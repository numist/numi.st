---
layout: page
excerpt: diff diff diff
---

## TODO:

* [x] How heinous will it be to get the edges in the SVG to have useful ids?
    * [It's easy!](https://graphviz.org/docs/outputs/#ID)
* [ ] Write a `shell` Liquid tag for Jekyll that exec's in the file's directory
    * Use it to produce diffing graphs: {% raw %}`{% shell generate_graph.rb ABCAB CBABA %}`{% endraw %}
* [ ] Write diffing animations scripts for:
    * [ ] Breadth-first ABCAB v CBABA
    * [ ] Greedy Best First Search ABCAB v CBABA
    * [ ] Myers ABCAB v CBABA
    * [ ] Myers meet-in-the-middle ABCAB v CBABA
* [ ] Write animation code driven by the above collections of edge ids
    * resist the temptation to let readers customize their diffs by switching to a JS graphviz and bespoke diffing toolchain

* Future:
    * Membership testing
        * Membership PARTS v MIRTH
        * Membership-after PARTS v STRAP
    * Inexact diffing
        * limited-breadth Myers
        * arrow

## Animation Prototype

<div id="foo">
  <p>Element 1</p>
  <p>Element 2</p>
  <p>Element 3</p>
</div>
<script>
    const foo = document.getElementById("foo");
    const elements = foo.getElementsByTagName("p");
    let index = 0;
    let intervalId = null;

    function changeColor() {
      if (index >= elements.length) {
        [...elements].map(function(e) { e.style.color = ""; })
        index = 0;
        return
      }
      elements[index].style.color = "blue";
      index++;
    }

    foo.addEventListener("click", function() {
      if (intervalId) {
        clearInterval(intervalId);
        intervalId = null;
      } else {
        intervalId = setInterval(changeColor, 1000);
      }
    });
</script>

## Canonical Diff

{% graphviz %}
digraph {
  layout="neato"
  edge [constraint=false, arrowhead=open, color="#BBBBBB"]
  node [shape=plaintext]

  "progress" [shape=plaintext,pos="-0.15,0.15!",label="0/25"]

  "a[0]" [pos="0.375,0.15!",label="A"]
  "a[1]" [pos="1.125,0.15!",label="B"]
  "a[2]" [pos="1.875,0.15!",label="C"]
  "a[3]" [pos="2.625,0.15!",label="A"]
  "a[4]" [pos="3.375,0.15!",label="B"]

  "b[0]" [pos="-0.15,-0.375!",label="C"]
  "b[1]" [pos="-0.15,-1.125!",label="B"]
  "b[2]" [pos="-0.15,-1.875!",label="A"]
  "b[3]" [pos="-0.15,-2.625!",label="B"]
  "b[4]" [pos="-0.15,-3.375!",label="A"]

  node [shape=point, fixedsize=true, width=0, height=0, style=invis]

  "0_0" [pos="0.0,-0.0!"]
  "0_1" [pos="0.0,-0.75!"]
  "0_2" [pos="0.0,-1.5!"]
  "0_3" [pos="0.0,-2.25!"]
  "0_4" [pos="0.0,-3.0!"]
  "0_5" [pos="0.0,-3.75!"]
  "1_0" [pos="0.75,-0.0!"]
  "1_1" [pos="0.75,-0.75!"]
  "1_2" [pos="0.75,-1.5!"]
  "1_3" [pos="0.75,-2.25!"]
  "1_4" [pos="0.75,-3.0!"]
  "1_5" [pos="0.75,-3.75!"]
  "2_0" [pos="1.5,-0.0!"]
  "2_1" [pos="1.5,-0.75!"]
  "2_2" [pos="1.5,-1.5!"]
  "2_3" [pos="1.5,-2.25!"]
  "2_4" [pos="1.5,-3.0!"]
  "2_5" [pos="1.5,-3.75!"]
  "3_0" [pos="2.25,-0.0!"]
  "3_1" [pos="2.25,-0.75!"]
  "3_2" [pos="2.25,-1.5!"]
  "3_3" [pos="2.25,-2.25!"]
  "3_4" [pos="2.25,-3.0!"]
  "3_5" [pos="2.25,-3.75!"]
  "4_0" [pos="3.0,-0.0!"]
  "4_1" [pos="3.0,-0.75!"]
  "4_2" [pos="3.0,-1.5!"]
  "4_3" [pos="3.0,-2.25!"]
  "4_4" [pos="3.0,-3.0!"]
  "4_5" [pos="3.0,-3.75!"]
  "5_0" [pos="3.75,-0.0!"]
  "5_1" [pos="3.75,-0.75!"]
  "5_2" [pos="3.75,-1.5!"]
  "5_3" [pos="3.75,-2.25!"]
  "5_4" [pos="3.75,-3.0!"]
  "5_5" [pos="3.75,-3.75!"]

  /* "A", "C" */
  "0_0" -> "1_0" [id="0_0to1_0"] /* "delete "A"" */
  "0_0" -> "0_1" [id="0_0to0_1"] /* "insert "C"" */
  /* "A", "B" */
  "0_1" -> "1_1" [id="0_1to1_1"] /* "delete "A"" */
  "0_1" -> "0_2" [id="0_1to0_2"] /* "insert "B"" */
  /* "A", "A" */
  "0_2" -> "1_2" [id="0_2to1_2"] /* "delete "A"" */
  "0_2" -> "0_3" [id="0_2to0_3"] /* "insert "A"" */
  "0_2" -> "1_3" [id="0_2to1_3"] /* "match" */
  /* "A", "B" */
  "0_3" -> "1_3" [id="0_3to1_3"] /* "delete "A"" */
  "0_3" -> "0_4" [id="0_3to0_4"] /* "insert "B"" */
  /* "A", "A" */
  "0_4" -> "1_4" [id="0_4to1_4"] /* "delete "A"" */
  "0_4" -> "0_5" [id="0_4to0_5"] /* "insert "A"" */
  "0_4" -> "1_5" [id="0_4to1_5"] /* "match" */
  /* "A", $end */
  "0_5" -> "1_5" [id="0_5to1_5"] /* "delete "A"" */

  /* "B", "C" */
  "1_0" -> "2_0" [id="1_0to2_0"] /* "delete "B"" */
  "1_0" -> "1_1" [id="1_0to1_1"] /* "insert "C"" */
  /* "B", "B" */
  "1_1" -> "2_1" [id="1_1to2_1"] /* "delete "B"" */
  "1_1" -> "1_2" [id="1_1to1_2"] /* "insert "B"" */
  "1_1" -> "2_2" [id="1_1to2_2"] /* "match" */
  /* "B", "A" */
  "1_2" -> "2_2" [id="1_2to2_2"] /* "delete "B"" */
  "1_2" -> "1_3" [id="1_2to1_3"] /* "insert "A"" */
  /* "B", "B" */
  "1_3" -> "2_3" [id="1_3to2_3"] /* "delete "B"" */
  "1_3" -> "1_4" [id="1_3to1_4"] /* "insert "B"" */
  "1_3" -> "2_4" [id="1_3to2_4"] /* "match" */
  /* "B", "A" */
  "1_4" -> "2_4" [id="1_4to2_4"] /* "delete "B"" */
  "1_4" -> "1_5" [id="1_4to1_5"] /* "insert "A"" */
  /* "B", $end */
  "1_5" -> "2_5" [id="1_5to2_5"] /* "delete "B"" */

  /* "C", "C" */
  "2_0" -> "3_0" [id="2_0to3_0"] /* "delete "C"" */
  "2_0" -> "2_1" [id="2_0to2_1"] /* "insert "C"" */
  "2_0" -> "3_1" [id="2_0to3_1"] /* "match" */
  /* "C", "B" */
  "2_1" -> "3_1" [id="2_1to3_1"] /* "delete "C"" */
  "2_1" -> "2_2" [id="2_1to2_2"] /* "insert "B"" */
  /* "C", "A" */
  "2_2" -> "3_2" [id="2_2to3_2"] /* "delete "C"" */
  "2_2" -> "2_3" [id="2_2to2_3"] /* "insert "A"" */
  /* "C", "B" */
  "2_3" -> "3_3" [id="2_3to3_3"] /* "delete "C"" */
  "2_3" -> "2_4" [id="2_3to2_4"] /* "insert "B"" */
  /* "C", "A" */
  "2_4" -> "3_4" [id="2_4to3_4"] /* "delete "C"" */
  "2_4" -> "2_5" [id="2_4to2_5"] /* "insert "A"" */
  /* "C", $end */
  "2_5" -> "3_5" [id="2_5to3_5"] /* "delete "C"" */

  /* "A", "C" */
  "3_0" -> "4_0" [id="3_0to4_0"] /* "delete "A"" */
  "3_0" -> "3_1" [id="3_0to3_1"] /* "insert "C"" */
  /* "A", "B" */
  "3_1" -> "4_1" [id="3_1to4_1"] /* "delete "A"" */
  "3_1" -> "3_2" [id="3_1to3_2"] /* "insert "B"" */
  /* "A", "A" */
  "3_2" -> "4_2" [id="3_2to4_2"] /* "delete "A"" */
  "3_2" -> "3_3" [id="3_2to3_3"] /* "insert "A"" */
  "3_2" -> "4_3" [id="3_2to4_3"] /* "match" */
  /* "A", "B" */
  "3_3" -> "4_3" [id="3_3to4_3"] /* "delete "A"" */
  "3_3" -> "3_4" [id="3_3to3_4"] /* "insert "B"" */
  /* "A", "A" */
  "3_4" -> "4_4" [id="3_4to4_4"] /* "delete "A"" */
  "3_4" -> "3_5" [id="3_4to3_5"] /* "insert "A"" */
  "3_4" -> "4_5" [id="3_4to4_5"] /* "match" */
  /* "A", $end */
  "3_5" -> "4_5" [id="3_5to4_5"] /* "delete "A"" */

  /* "B", "C" */
  "4_0" -> "5_0" [id="4_0to5_0"] /* "delete "B"" */
  "4_0" -> "4_1" [id="4_0to4_1"] /* "insert "C"" */
  /* "B", "B" */
  "4_1" -> "5_1" [id="4_1to5_1"] /* "delete "B"" */
  "4_1" -> "4_2" [id="4_1to4_2"] /* "insert "B"" */
  "4_1" -> "5_2" [id="4_1to5_2"] /* "match" */
  /* "B", "A" */
  "4_2" -> "5_2" [id="4_2to5_2"] /* "delete "B"" */
  "4_2" -> "4_3" [id="4_2to4_3"] /* "insert "A"" */
  /* "B", "B" */
  "4_3" -> "5_3" [id="4_3to5_3"] /* "delete "B"" */
  "4_3" -> "4_4" [id="4_3to4_4"] /* "insert "B"" */
  "4_3" -> "5_4" [id="4_3to5_4"] /* "match" */
  /* "B", "A" */
  "4_4" -> "5_4" [id="4_4to5_4"] /* "delete "B"" */
  "4_4" -> "4_5" [id="4_4to4_5"] /* "insert "A"" */
  /* "B", $end */
  "4_5" -> "5_5" [id="4_5to5_5"] /* "delete "B"" */

  /* $end, "C" */
  "5_0" -> "5_1" [id="5_0to5_1"] /* "insert "C"" */
  /* $end, "B" */
  "5_1" -> "5_2" [id="5_1to5_2"] /* "insert "B"" */
  /* $end, "A" */
  "5_2" -> "5_3" [id="5_2to5_3"] /* "insert "A"" */
  /* $end, "B" */
  "5_3" -> "5_4" [id="5_3to5_4"] /* "insert "B"" */
  /* $end, "A" */
  "5_4" -> "5_5" [id="5_4to5_5"] /* "insert "A"" */
}
{% endgraphviz %}

# Draft Copy

